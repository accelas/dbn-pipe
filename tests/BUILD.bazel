load("@rules_cc//cc:defs.bzl", "cc_test")

cc_test(
    name = "parser_test",
    srcs = ["parser_test.cpp"],
    deps = [
        "//src:parser",
        "@databento_cpp//:databento_headers",
        "@googletest//:gtest_main",
    ],
)

cc_test(
    name = "error_test",
    srcs = ["error_test.cpp"],
    deps = [
        "//src:error",
        "@googletest//:gtest_main",
    ],
)

cc_test(
    name = "reactor_test",
    srcs = ["reactor_test.cpp"],
    deps = [
        "//src:reactor",
        "@googletest//:gtest_main",
    ],
)

cc_test(
    name = "data_source_test",
    srcs = ["data_source_test.cpp"],
    deps = [
        "//src:data_source",
        "@databento_cpp//:databento_headers",
        "@googletest//:gtest_main",
    ],
)

cc_test(
    name = "tcp_socket_test",
    srcs = ["tcp_socket_test.cpp"],
    deps = [
        "//src:reactor",
        "//src:tcp_socket",
        "@googletest//:gtest_main",
    ],
)

cc_test(
    name = "cram_auth_test",
    srcs = ["cram_auth_test.cpp"],
    deps = [
        "//src:cram_auth",
        "@googletest//:gtest_main",
    ],
)

cc_test(
    name = "live_client_test",
    srcs = ["live_client_test.cpp"],
    deps = [
        "//src:live_client",
        "@databento_cpp//:databento_headers",
        "@googletest//:gtest_main",
    ],
)

cc_test(
    name = "pipeline_test",
    srcs = ["pipeline_test.cpp"],
    deps = [
        "//src:pipeline",
        "@googletest//:gtest_main",
    ],
)

cc_test(
    name = "tls_socket_test",
    srcs = ["tls_socket_test.cpp"],
    deps = [
        "//src:pipeline",
        "//src:reactor",
        "//src:tls_socket",
        "@googletest//:gtest_main",
    ],
)
